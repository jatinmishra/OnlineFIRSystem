
@{
    ViewBag.Title = "ResetPassword";
    Layout = "~/Views/Shared/_Admin.cshtml";
}



@*<div id="sign-box">
    <h1>Reset Password</h1>
    <div class="sc-container">
        <input type="text" placeholder="Username or Email" />
        <input type="submit" value="Get New Password" />
    </div>
</div>*@

@using (Html.BeginForm(new { id = "resetForm" }))
{
    @Html.AntiForgeryToken()

    @*<div class="form-horizontal">
            <p>Please fill the following form to Log In. </p>
            <hr />
            @Html.ValidationSummary(true, "", new { @class = "text-danger" })
            <div class="form-group">
                @Html.LabelFor(model => model.user_id, htmlAttributes: new { @class = "control-label col-md-2" })
                <div class="col-md-10">
                    @Html.TextBoxFor(model => model.user_id, new { htmlAttributes = new { @class = "input-field form-control" , @name="uID" } })
                    @Html.ValidationMessageFor(model => model.user_id, "", new { @class = "text-danger" })
                    <label for="uID">User ID</label>
                </div>
            </div>

            <div class="form-group">
                @Html.LabelFor(model => model.user_password, htmlAttributes: new { @class = "control-label col-md-2" })
                <div class="col-md-10">
                    @Html.EditorFor(model => model.user_password, new { htmlAttributes = new { @class = "form-control" } })
                    @Html.ValidationMessageFor(model => model.user_password, "", new { @class = "text-danger" })
                </div>
            </div>

            <div class="form-group">
                <div class="col-md-offset-2 col-md-10">
                    <input type="submit" value="LogIn" class="btn btn-default" />
                </div>
            </div>
        </div>*@
    <div class="sign-box" style="align-content:center">
        <h3 style="font-size:34px;">
            Reset Password
        </h3>
     
            <div class="form-horizontal">
                <div class="form-group">
                    <p>For security purposes we require you to enter your credentials again.</p>
                    <div class="col-md-12">
                        @*<label for="uID">User ID</label>*@
                        <input type="text" placeholder="Enter your user ID" name="uID" />
                        <input type="text" placeholder="Enter old Password" name="oldPass"/>
                        <input type="text" placeholder="Enter new Password" id="pass1" name="newPass"/>
                        <input type="text" placeholder="Confirm new Password" id="pass2" />
                    </div>
                </div>


                <div class="form-group">
                    <div class="text-right col-md-12">
                        <input type="submit" id="subBtn" value="Reset Password" />
                    </div>
                </div>
            </div>


    </div>
}

<script>

    $(document).ready(function () {
        if ('@ViewBag.t' == 'success') {
            alert('Password reset successfully');
        }
        if ('@ViewBag.t' == 'error') {
            alert('Something went wrong, please try again');
        }
        $("#subBtn").click(function () {
            console.log($("#pass1").val());
            if ($("#pass1").val() == $("#pass2").val()) {
                $("#resetForm").submit();
            }
            else {
                alert('new passwords not matched');
            }
        });
    });
</script>
