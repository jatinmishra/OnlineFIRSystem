@model OnlineFIR.WebApp.Models.ViewModel.EditPoliceStation

@{
    ViewBag.Title = "EditStation";
    Layout = "~/Views/Shared/_Admin.cshtml";
}

<div class="container">
    <h2>Edit Station</h2>

    @using (Html.BeginForm())
    {
        @Html.AntiForgeryToken()

        <div class="form-horizontal">

            <hr />
            @Html.ValidationSummary(true, "", new { @class = "text-danger" })

            @*<div class="form-group">
                @Html.LabelFor(model => model.station_id, htmlAttributes: new { @class = "control-label col-md-2" })
                <div class="col-md-10">
                    @Html.EditorFor(model => model.station_id, new { htmlAttributes = new { @class = "form-control", @placeholder = "Enter Station ID", @disabled = true} })
                    @Html.ValidationMessageFor(model => model.station_id, "", new { @class = "text-danger" })
                </div>
            </div>
            <div class="form-group">
                @Html.LabelFor(model => model.user_id, htmlAttributes: new { @class = "control-label col-md-2" })
                <div class="col-md-10">
                    @Html.EditorFor(model => model.user_id, new { htmlAttributes = new { @class = "form-control", @disabled = true } })
                    @Html.ValidationMessageFor(model => model.user_id, "", new { @class = "text-danger" })
                </div>
            </div>*@

            <div class="form-group">
                @Html.LabelFor(model => model.station_name, htmlAttributes: new { @class = "control-label col-md-2" })
                <div class="col-md-10">
                    @Html.EditorFor(model => model.station_name, new { htmlAttributes = new { @class = "form-control" } })
                    @Html.ValidationMessageFor(model => model.station_name, "", new { @class = "text-danger" })
                </div>
            </div>

            <div class="form-group">
                @Html.LabelFor(model => model.station_address, htmlAttributes: new { @class = "control-label col-md-2" })
                <div class="col-md-10">
                    @Html.EditorFor(model => model.station_address, new { htmlAttributes = new { @class = "form-control" } })
                    @Html.ValidationMessageFor(model => model.station_address, "", new { @class = "text-danger" })
                </div>
            </div>

            <div class="form-group">
                @Html.LabelFor(model => model.station_incharge, htmlAttributes: new { @class = "control-label col-md-2" })
                <div class="col-md-10">
                    @Html.EditorFor(model => model.station_incharge, new { htmlAttributes = new { @class = "form-control" } })
                    @Html.ValidationMessageFor(model => model.station_incharge, "", new { @class = "text-danger" })
                </div>
            </div>

            <div class="form-group">
                @Html.LabelFor(model => model.station_contact_no, htmlAttributes: new { @class = "control-label col-md-2" })
                <div class="col-md-10">
                    @Html.EditorFor(model => model.station_contact_no, new { htmlAttributes = new { @class = "form-control" } })
                    @Html.ValidationMessageFor(model => model.station_contact_no, "", new { @class = "text-danger" })
                </div>
            </div>

            <div class="form-group">
                <div class="col-md-offset-2 col-md-10">
                    <input type="submit" value="Save" onclick="ShowProgress()" class="btn btn-primary" />
                </div>
            </div>
        </div>
    }

    <div class="saveSuccess" align="center" style="visibility:@ViewBag.Visibility;">
        <img src="~/Content/Images/tick.jpg" style="max-height:50px; max-width:50px; background:white;" />
        Police Station modified successfully.
    </div>
    <div class="saveError" align="center" style="visibility:@ViewBag.VisibilityE;">
        <img src="~/Content/Images/error.png" style="max-height:50px; max-width:50px; background:white;" />
        Error in modifing police station .
    </div>

</div>
<div class="loading" align="center">
    Loading. Please wait.<br />
    <br />
    @*<img src="~/Content/ajax-loader.gif" style="max-height:inherit; max-width:inherit;" />*@
    <i class="fa fa-2x fa-spinner fa-spin"></i>
</div>
<script type="text/javascript">

    function ShowProgress()
    {
        console.log('ShowProgress');
        setTimeout(function () {
        var modal = $('<div />');
        modal.addClass("modal");
        //$('.container').append(modal);
        var loading = $(".loading");
        loading.show();
        var top = Math.max($(window).height() / 2 - loading[0].offsetHeight / 2, 0);
        var left = Math.max($(window).width() / 2 - loading[0].offsetWidth / 2, 0);
        loading.css({ top: top, left: left });
        }, 200);
        $(".container").css('opacity', '0.5');
        //$(".saveSuccess").css('visibility','visible');
    }

    function formReset() {
        if ('@ViewBag.Flag' === 'reset') {
          //  alert('viola');
            document.getElementById("addStationForm").reset();
        }
    }
</script>